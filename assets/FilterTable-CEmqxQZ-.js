import{j as e,V as S,W as C,r as g,X as m,Y as D,Z as P,$ as R,a0 as F,a1 as M,a2 as k,a3 as y}from"./index-D-m5xOMZ.js";import{u as I,f as b,g as Y,a as T,b as A,c as z}from"./index-CIJxZo0J.js";import{D as j}from"./index-B0azqrHb.js";const $=({header:t,onClick:o})=>t.column.getCanSort()&&e.jsxs("div",{className:"flex",onClick:o,children:[e.jsx(S,{className:`hover:text-red-500 w-[6px] ${t.column.getIsSorted()==="asc"?"text-red-500":""}`}),e.jsx(C,{className:`hover:text-red-500 w-[6px] ${t.column.getIsSorted()==="desc"?"text-red-500":""}`})]}),H=({Columns:t=[],data:o=[],setGlobalFilter:d,globalFilter:x,onSelectedRowIdsChange:l=c=>c,loading:a=!1})=>{const[c,h]=g.useState({}),w=g.useMemo(()=>t,[t]),[f,u]=g.useState([]),r=I({data:o,columns:w,state:{rowSelection:c,sorting:f,globalFilter:x},onSortingChange:u,onGlobalFilterChange:d,enableRowSelection:!0,onRowSelectionChange:h,getCoreRowModel:Y(),getSortedRowModel:T(),getFilteredRowModel:A(),enableGlobalFilter:!0,getPaginationRowModel:z()}),N=()=>e.jsx("div",{className:"flex items-center justify-center p-2",children:e.jsx("div",{className:"px-4 py-2 border border-slate-300 rounded-md bg-white",children:"loading..."})}),p=g.useMemo(()=>r.getHeaderGroups().map(s=>s.headers.length),[]);return g.useEffect(()=>{let s=[];r.getSelectedRowModel().flatRows.map(n=>{let i=n.original.id;s.push(i)}),l(s)},[c]),e.jsx("div",{className:"w-full lg:overflow-visible overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:r.getHeaderGroups().map(s=>e.jsx("tr",{children:s.headers.map(n=>{var i;return e.jsx("th",{className:"p-2",colSpan:n.colSpan,children:n.isPlaceholder?null:e.jsxs("div",{className:`flex items-center gap-1 ${((i=n==null?void 0:n.column)==null?void 0:i.id)==="id"?"justify-end":""}`,children:[b(n.column.columnDef.header,n.getContext()),e.jsx($,{header:n,onClick:n.column.getToggleSortingHandler()})]})},n.id)})},s.id))}),e.jsx("tbody",{children:a?e.jsx("tr",{children:e.jsx("td",{colSpan:p,children:N()})}):r.getRowModel().rows.length>0?r.getRowModel().rows.map(s=>{const n=s.getIsSelected(s.id);return e.jsx("tr",{className:`hover:bg-slate-200 ${n?"bg-slate-300":""}`,children:s.getVisibleCells().map(i=>e.jsx("td",{className:"w-auto p-2",children:b(i.column.columnDef.cell,i.getContext())},i.id))},s.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:p,children:e.jsx("div",{className:"flex items-center justify-center p-2",children:"No data Found"})})})}),e.jsx("tfoot",{children:e.jsx("tr",{children:e.jsx("td",{colSpan:p,className:"p-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("label",{children:["Page ",r.getState().pagination.pageIndex+1," of"," ",r.getPageCount()," | Go to page :"]}),e.jsx(m,{value:r.getState().pagination.pageIndex,onChange:s=>{const n=s.target.value;r.setPageIndex(n)},children:r.getPageOptions().map(s=>e.jsxs("option",{value:s,children:["Page ",s+1]},s))})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{children:"Show : "}),e.jsx(m,{value:r.getState().pagination.pageSize,onChange:s=>{r.setPageSize(Number(s.target.value))},children:[5,10,20,30,40,50].map(s=>e.jsx("option",{value:s,children:s},s))}),e.jsxs("label",{children:[Object.keys(c).length," of"," ",r.getPreFilteredRowModel().rows.length," Total Rows Selected"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>r.setPageIndex(0),disabled:!r.getCanPreviousPage(),children:e.jsx(D,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>r.previousPage(),disabled:!r.getCanPreviousPage(),children:e.jsx(P,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>r.nextPage(),disabled:!r.getCanNextPage(),children:e.jsx(R,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>r.setPageIndex(r.getPageCount()-1),disabled:!r.getCanNextPage(),children:e.jsx(F,{fontWeight:1,size:20})})]})]})})})})]})})},O=({value:t={start:new Date,end:new Date},onChange:o=d=>d})=>{var l;const d=a=>{o({...t,start:a})},x=a=>{o({...t,end:a})};return e.jsxs("div",{className:"relative flex gap-4 p-[6px] items-center group/show hover:bg-slate-200 rounded-sm",children:[e.jsx("p",{className:"text-[15px] font-semibold",children:"Date Range"}),e.jsx("ul",{className:"group-hover/show:visible invisible absolute top-9 left-0 w-28 h-auto bg-white border border-slate-300 z-10",children:(l=M)==null?void 0:l.map((a,c)=>{var h;return e.jsx("li",{className:`${(t==null?void 0:t.start)===(a==null?void 0:a.value.start)&&(t==null?void 0:t.end)===((h=a==null?void 0:a.value)==null?void 0:h.end)?"bg-slate-500 text-white":"hover:bg-slate-300"} p-2 text-sm cursor-pointer`,onClick:()=>{o(a==null?void 0:a.value)},children:a==null?void 0:a.label},c)})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(j,{selected:t==null?void 0:t.start,onChange:d,selectsStart:!0,dateFormat:"dd/MM/YYYY",startDate:t==null?void 0:t.start,endDate:t==null?void 0:t.end,className:"w-20 border-0 focus:outline-0 bg-transparent",calendarClassName:"left-20 -top-[4px] border-slate-300",showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"Start date",maxDate:t==null?void 0:t.end}),e.jsx("span",{children:"To"}),e.jsx(j,{selected:t==null?void 0:t.end,onChange:x,selectsEnd:!0,dateFormat:"dd/MM/YYYY",startDate:t==null?void 0:t.start,endDate:t==null?void 0:t.end,className:"w-20 border-0 focus:outline-0 bg-transparent",calendarClassName:"left-20 -top-[4px] border-slate-300",showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"End date",minDate:t==null?void 0:t.start})]})]})},v=({label:t="Filter",children:o,onChangeClear:d})=>{const[x,l]=g.useState(!1),a={transition:"0.3s ease"};return e.jsxs("div",{tabIndex:0,onBlur:()=>l(!1),children:[e.jsxs("div",{className:"flex gap-2 items-center text-slate-500 cursor-pointer hover:text-black text-[15px]",onClick:()=>l(!x),children:[e.jsx("span",{children:"Filter"}),e.jsx(k,{size:15})]}),e.jsxs("div",{style:a,className:`fixed w-64 h-full bg-white top-[60px] border-x border-slate-300 ${x?"right-3":"-right-64"}`,children:[e.jsxs("div",{className:"border-b border-slate-300 p-[11px] flex items-center justify-between text-[18px] text-slate-500",children:[e.jsx("h2",{children:t}),e.jsx(y,{onClick:()=>l(!1),className:"hover:text-black cursor-pointer",size:15})]}),e.jsx("div",{className:"w-full h-[calc(100%-170px)] overflow-auto relative",children:o}),e.jsx("div",{className:"border-t bg-white border-slate-300 p-3",children:e.jsx("div",{className:"p-2 hover:bg-slate-300 rounded-[4px] text-sm text-center border border-slate-300",onClick:d,children:"Clear"})})]})]})};export{O as D,v as F,H as T};
