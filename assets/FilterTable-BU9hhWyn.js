import{j as e,V as S,W as C,r as x,C as R,X as m,Y as P,Z as D,$ as F,a0 as M,a1 as k,a2 as y,a3 as I}from"./index-DqQFnovo.js";import{u as T,f as b,g as Y,a as A,b as z,c as $}from"./index-DZo9cub7.js";import{D as j}from"./index-BYZowGk6.js";const E=({header:t,onClick:o})=>t.column.getCanSort()&&e.jsxs("div",{className:"flex",onClick:o,children:[e.jsx(S,{className:`hover:text-red-500 w-[6px] ${t.column.getIsSorted()==="asc"?"text-red-500":""}`}),e.jsx(C,{className:`hover:text-red-500 w-[6px] ${t.column.getIsSorted()==="desc"?"text-red-500":""}`})]}),O=({Columns:t=[],data:o=[],setGlobalFilter:d,globalFilter:g,onSelectedRowIdsChange:l=c=>c,loading:r=!1})=>{const[c,h]=x.useState({}),w=x.useMemo(()=>t,[t]),[f,u]=x.useState([]),s=T({data:o,columns:w,state:{rowSelection:c,sorting:f,globalFilter:g},onSortingChange:u,onGlobalFilterChange:d,enableRowSelection:!0,onRowSelectionChange:h,getCoreRowModel:Y(),getSortedRowModel:A(),getFilteredRowModel:z(),enableGlobalFilter:!0,getPaginationRowModel:$()}),N=()=>e.jsx("div",{className:"flex items-center justify-center p-2",children:e.jsx("div",{className:"px-4 py-2 border border-slate-300 rounded-md bg-white",children:"loading..."})}),p=x.useMemo(()=>s.getHeaderGroups().map(a=>a.headers.length),[]);return x.useEffect(()=>{let a=[];s.getSelectedRowModel().flatRows.map(n=>{let i=n.original.id;a.push(i)}),l(a)},[c]),e.jsx("div",{className:"w-full lg:overflow-visible overflow-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:s.getHeaderGroups().map(a=>e.jsx("tr",{children:a.headers.map(n=>{var i;return e.jsx("th",{className:"p-2",colSpan:n.colSpan,children:n.isPlaceholder?null:e.jsxs("div",{className:`flex items-center gap-1 ${((i=n==null?void 0:n.column)==null?void 0:i.id)==="id"?"justify-end":""}`,children:[b(n.column.columnDef.header,n.getContext()),e.jsx(E,{header:n,onClick:n.column.getToggleSortingHandler()})]})},n.id)})},a.id))}),e.jsx("tbody",{children:r?e.jsx("tr",{children:e.jsx("td",{colSpan:p,children:N()})}):s.getRowModel().rows.length>0?s.getRowModel().rows.map(a=>{const n=a.getIsSelected(a.id);return e.jsx("tr",{className:`hover:bg-slate-200 ${n?"bg-slate-300":""}`,children:a.getVisibleCells().map(i=>e.jsx("td",{className:"w-auto p-2",children:b(i.column.columnDef.cell,i.getContext())},i.id))},a.id)}):e.jsx("tr",{children:e.jsx("td",{colSpan:p,children:e.jsx("div",{className:"flex items-center justify-center p-2",children:"No data Found"})})})}),e.jsxs("tfoot",{children:[e.jsxs("tr",{children:[e.jsx("td",{className:"p-2",children:e.jsx(R,{checked:s.getIsAllPageRowsSelected(),indeterminate:s.getIsSomePageRowsSelected(),onChange:s.getToggleAllPageRowsSelectedHandler()})}),e.jsxs("td",{className:"p-2",colSpan:p,children:["Page Rows (",s.getRowModel().rows.length,")"]})]}),e.jsx("tr",{children:e.jsx("td",{colSpan:p,className:"p-2",children:e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsxs("label",{children:["Page ",s.getState().pagination.pageIndex+1," of"," ",s.getPageCount()," | Go to page :"]}),e.jsx(m,{value:s.getState().pagination.pageIndex,onChange:a=>{const n=a.target.value;s.setPageIndex(n)},children:s.getPageOptions().map(a=>e.jsxs("option",{value:a,children:["Page ",a+1]},a))})]}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx("label",{children:"Show : "}),e.jsx(m,{value:s.getState().pagination.pageSize,onChange:a=>{s.setPageSize(Number(a.target.value))},children:[5,10,20,30,40,50].map(a=>e.jsx("option",{value:a,children:a},a))}),e.jsxs("label",{children:[Object.keys(c).length," of"," ",s.getPreFilteredRowModel().rows.length," Total Rows Selected"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-slate-500",children:[e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>s.setPageIndex(0),disabled:!s.getCanPreviousPage(),children:e.jsx(P,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:e.jsx(D,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:e.jsx(F,{size:20})}),e.jsx("button",{className:"px-4 py-2 rounded-[0.2rem] border border-slate-300 hover:bg-slate-200 disabled:bg-white",onClick:()=>s.setPageIndex(s.getPageCount()-1),disabled:!s.getCanNextPage(),children:e.jsx(M,{fontWeight:1,size:20})})]})]})})})]})]})})},v=({value:t={start:new Date,end:new Date},onChange:o=d=>d})=>{var l;const d=r=>{o({...t,start:r})},g=r=>{o({...t,end:r})};return e.jsxs("div",{className:"relative flex gap-4 p-[6px] items-center group/show hover:bg-slate-200 rounded-sm",children:[e.jsx("p",{className:"text-[15px] font-semibold",children:"Date Range"}),e.jsx("ul",{className:"group-hover/show:visible invisible absolute top-9 left-0 w-28 h-auto bg-white border border-slate-300 z-10",children:(l=k)==null?void 0:l.map((r,c)=>{var h;return e.jsx("li",{className:`${(t==null?void 0:t.start)===(r==null?void 0:r.value.start)&&(t==null?void 0:t.end)===((h=r==null?void 0:r.value)==null?void 0:h.end)?"bg-slate-500 text-white":"hover:bg-slate-300"} p-2 text-sm cursor-pointer`,onClick:()=>{o(r==null?void 0:r.value)},children:r==null?void 0:r.label},c)})}),e.jsxs("div",{className:"flex gap-2 items-center",children:[e.jsx(j,{selected:t==null?void 0:t.start,onChange:d,selectsStart:!0,dateFormat:"dd/MM/YYYY",startDate:t==null?void 0:t.start,endDate:t==null?void 0:t.end,className:"w-20 border-0 focus:outline-0 bg-transparent",calendarClassName:"left-20 -top-[4px] border-slate-300",showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"Start date",maxDate:t==null?void 0:t.end}),e.jsx("span",{children:"To"}),e.jsx(j,{selected:t==null?void 0:t.end,onChange:g,selectsEnd:!0,dateFormat:"dd/MM/YYYY",startDate:t==null?void 0:t.start,endDate:t==null?void 0:t.end,className:"w-20 border-0 focus:outline-0 bg-transparent",calendarClassName:"left-20 -top-[4px] border-slate-300",showYearDropdown:!0,showMonthDropdown:!0,placeholderText:"End date",minDate:t==null?void 0:t.start})]})]})},B=({label:t="Filter",children:o,onChangeClear:d})=>{const[g,l]=x.useState(!1),r={transition:"0.3s ease"};return e.jsxs("div",{tabIndex:0,onBlur:()=>l(!1),children:[e.jsxs("div",{className:"flex gap-2 items-center text-slate-500 cursor-pointer hover:text-black text-[15px]",onClick:()=>l(!g),children:[e.jsx("span",{children:"Filter"}),e.jsx(y,{size:15})]}),e.jsxs("div",{style:r,className:`fixed w-64 h-full bg-white top-[60px] border-x border-slate-300 ${g?"right-3":"-right-64"}`,children:[e.jsxs("div",{className:"border-b border-slate-300 p-[11px] flex items-center justify-between text-[18px] text-slate-500",children:[e.jsx("h2",{children:t}),e.jsx(I,{onClick:()=>l(!1),className:"hover:text-black cursor-pointer",size:15})]}),e.jsx("div",{className:"w-full h-[calc(100%-170px)] overflow-auto relative",children:o}),e.jsx("div",{className:"border-t bg-white border-slate-300 p-3",children:e.jsx("div",{className:"p-2 hover:bg-slate-300 rounded-[4px] text-sm text-center border border-slate-300",onClick:d,children:"Clear"})})]})]})};export{v as D,B as F,O as T};
