import{u as h,a as b,b as E,c as y,r as n,z as B,B as I,aa as D,j as s,J as F,a9 as L}from"./index-D4AcEXSj.js";import{B as R}from"./buttons-c1cBsIzT.js";import{S as T,a as v,C as k,I as z}from"./container-COvAUeMB.js";import{C as A}from"./Calender-BSPxZJZR.js";import{S as j}from"./select-5EcHxkKk.js";const V=()=>{var d,m,p,x;const a=h(e=>e.auth),{users:f,user:t,loading:N}=h(e=>e.users),r=b(),g=E(),{pathname:C}=y(),c=[{role:"All",value:""},{role:"Employees",value:["employee"]},{role:"Clients",value:["client"]}],[l,S]=n.useState(a==null?void 0:a.user),[o,w]=n.useState(c[0]);n.useEffect(()=>(r(B(o.value)),()=>r(I())),[o.value,C]),n.useEffect(()=>{l&&r(D(l==null?void 0:l.id))},[l]);const i=e=>{var u;return s.jsxs("div",{className:"flex gap-4 items-center",children:[s.jsx(z,{className:"w-5 h-5 rounded-sm",src:e==null?void 0:e.profile,alt:e==null?void 0:e.name}),s.jsx("div",{className:"flex flex-col",children:s.jsx("p",{className:"text-sm",children:e==null?void 0:e.name})}),(e==null?void 0:e.name)===((u=a==null?void 0:a.user)==null?void 0:u.name)&&s.jsx("span",{className:"px-1 rounded-sm bg-slate-600 text-white text-xs",children:"its you"})]})};return s.jsxs(s.Fragment,{children:[((m=(d=a==null?void 0:a.user)==null?void 0:d.role)==null?void 0:m.includes("admin"))&&s.jsxs(T,{children:[s.jsx(v,{children:s.jsx(j,{width:"250px",optionswidth:"350px",value:l,options:f,fields:e=>e.name,onChange:e=>{S(e)},search:!0,optiontemplete:i,valuetemplete:i})}),s.jsxs(v,{children:[s.jsx("span",{className:"pr-1",children:"Type:"}),s.jsx(j,{options:c,onChange:e=>{w(e)},value:o,width:"100%",optionswidth:"120px",fields:e=>e.role,className:"border-0"})]})]}),s.jsxs("div",{className:"p-8",children:[((x=(p=a==null?void 0:a.user)==null?void 0:p.role)==null?void 0:x.includes("admin"))&&s.jsx("div",{className:"pb-4",children:s.jsx(R,{text:"Events",type:"button",icon:s.jsx(F,{}),onClick:()=>{g("/events/create")}})}),s.jsxs(k,{className:"relative w-full h-full",children:[N&&s.jsx(L,{}),s.jsx("div",{className:"p-8",children:s.jsx(A,{events:t==null?void 0:t.events,height:"600px",initialView:"dayGridMonth",userId:t==null?void 0:t.id})})]})]})]})};export{V as default};
