import{u as C,r as i,a as E,b as N,c as k,j as e,S as F,I as f,F as D,d as I,C as L,t as V,e as z,f as B}from"./index-CBG9DTp9.js";import{B as R}from"./buttons-DOfcR4p3.js";import{f as P}from"./formValidation-CwRn66Cy.js";const T=()=>{var x,h;const{loading:p,persist:g}=C(s=>s.auth),[n,j]=i.useState(!1),d=E(),b=N(),v=((h=(x=k().state)==null?void 0:x.from)==null?void 0:h.pathname)||"/",[o,w]=i.useState({email:"",password:""}),[l,c]=i.useState({email:"",password:""}),m=s=>{const{name:a,value:u}=s.target;w({...o,[a]:u}),c(r=>({...r,[a]:""}))},y=async s=>{var r;s.preventDefault();const a=P(o);if(Object.keys(a).length===0){const t=await d(B(o));((r=t==null?void 0:t.meta)==null?void 0:r.requestStatus)==="fulfilled"?b(v,{replace:!0}):c(S=>({...S,...t==null?void 0:t.payload}))}else c(t=>({...t,...a}))};return e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-center border-b border-slate-300 h-[70px]",children:e.jsxs("div",{className:"flex gap-4 items-center",children:[e.jsx("img",{src:F,alt:"logo"}),e.jsx("h2",{className:"text-xl font-bold",children:"CRM"})]})}),e.jsx("div",{className:"flex items-center justify-center h-[calc(100vh-70px)] overflow-auto bg-slate-100",children:e.jsxs("div",{className:"p-5 w-[450px] border border-slate-200 rounded-md flex flex-col gap-8 items-center bg-white",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Log In"}),e.jsxs("form",{onSubmit:y,className:"flex gap-5 flex-col w-full",children:[e.jsx(f,{placeholder:"Enter a email",label:"Email",focus:!0,name:"email",important:!0,error:l==null?void 0:l.email,value:o.email,onChange:m}),e.jsx(f,{type:n?"text":"password",placeholder:"Enter a password",label:"Password",important:!0,name:"password",error:l==null?void 0:l.password,value:o.password,onChange:m,button:e.jsx("button",{onClick:()=>{j(!n)},type:"button",className:"px-2 text-slate-600 h-full border-r border-slate-300 flex items-center justify-center hover:bg-slate-200",children:n?e.jsx(D,{size:20}):e.jsx(I,{size:20})})}),e.jsx(L,{label:"Remember me",name:"persist",checked:g,onChange:s=>{const a=s.target.checked;d(V(a))}}),e.jsx(R,{height:"45px",icon:e.jsx(z,{size:20}),loading:p,text:"Log In"})]})]})})]})};export{T as default};
