import{u as h,a8 as N,a as b,c as C,b as S,r as y,aa as _,j as s,w as I,an as k,_ as B,ao as L}from"./index-CBG9DTp9.js";import{C as R,R as a}from"./container-CbdqSGQ9.js";import{M as $}from"./menu-BN3i83bo.js";const V=()=>{var d,u,x,m,p,f,j;const r=h(e=>e.auth),{user:n}=h(e=>e.users),{userId:i,id:l}=N(),o=b(),E=C(),c=S(),D=((u=(d=E.state)==null?void 0:d.from)==null?void 0:u.pathname)||"/events";y.useEffect(()=>{i&&o(_(i))},[o]);let t={};(x=n==null?void 0:n.events)==null||x.map(e=>{(e==null?void 0:e.id)===l&&(t=e)});const g=async()=>{I.fire({title:"Are you sure?",text:`You won't be able to revert ${t==null?void 0:t.title} this event!`,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(e=>{e.isConfirmed&&(o(k(t)),B.promise(o(L({userId:i,eventId:l})),{loading:"loading...",success:"Deleted Successfully!",error:"Error in Deleting Event."},{position:"top-center"}),c(D,{replace:!0}))})},w=()=>{c(`/events/${i}/${l}/edit`)};return s.jsxs("div",{className:"p-6",children:[s.jsx("div",{className:"pb-4",children:s.jsx("h2",{className:"text-2xl font-bold",children:"Event Details"})}),s.jsx(R,{children:s.jsxs("div",{className:"p-8 flex justify-between",children:[s.jsxs("div",{className:"flex flex-col gap-4",children:[s.jsx(a,{text:"Event Id",data:`EVE_ID_${t==null?void 0:t.id}`}),s.jsx(a,{text:"Name",data:t==null?void 0:t.title}),s.jsx(a,{text:"Start Date",data:new Date(t==null?void 0:t.start).toLocaleString()}),s.jsx(a,{text:"End Date",data:new Date(t==null?void 0:t.end).toLocaleString()}),s.jsx(a,{text:"Status",data:(t==null?void 0:t.status)&&s.jsxs("p",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:"block h-4 w-4 rounded-full ",style:{background:(m=t==null?void 0:t.status)==null?void 0:m.color}}),(p=t==null?void 0:t.status)==null?void 0:p.name]})}),s.jsx(a,{text:"Description",data:(t==null?void 0:t.description)&&s.jsx("div",{dangerouslySetInnerHTML:{__html:t==null?void 0:t.description}})})]}),((j=(f=r==null?void 0:r.user)==null?void 0:f.role)==null?void 0:j.includes("admin"))&&s.jsxs($,{children:[s.jsx("li",{onClick:w,children:"Edit"}),s.jsx("li",{onClick:g,children:"Delete"})]})]})})]})};export{V as default};
